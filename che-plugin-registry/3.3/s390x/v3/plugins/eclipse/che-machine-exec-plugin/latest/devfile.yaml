schemaVersion: 2.1.0
metadata:
  name: che-machine-exec-plugin
components:
  - name: che-machine-exec
    container:
      image: quay.io/devspaces/machineexec-rhel8:3.3
      command:
        - /go/bin/che-machine-exec
        - '--url'
        - 127.0.0.1:4444
      memoryLimit: 128Mi
      memoryRequest: 32Mi
      cpuLimit: 500m
      cpuRequest: 30m
      endpoints:
        - name: che-machine-exec
          attributes:
            type: terminal
            discoverable: false
            cookiesAuthEnabled: true
          targetPort: 4444
          exposure: public
          secure: false
          protocol: wss
